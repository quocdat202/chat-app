{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from 'react';\nimport { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport { auth, db } from \"../Firebase\";\nimport login from \"../Images/login.png\";\nimport { collection, getDocs, query, where } from \"firebase/firestore\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Login(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      number = _useState2[0],\n      setNumber = _useState2[1];\n\n  var usersRef = collection(db, \"users\");\n\n  var handleLogin = function handleLogin() {\n    var q, querySnapshot, user;\n    return _regeneratorRuntime.async(function handleLogin$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!number) {\n              _context.next = 8;\n              break;\n            }\n\n            q = query(usersRef, where(\"_id\", \"==\", number));\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(getDocs(q));\n\n          case 4:\n            querySnapshot = _context.sent;\n\n            if (querySnapshot.docs.length === 0) {\n              alert(\"Chưa đăng ký\");\n            } else {\n              user = querySnapshot.docs[0].data();\n              navigation.navigate('Home', user);\n            }\n\n            _context.next = 9;\n            break;\n\n          case 8:\n            alert('Vui lòng nhập số điện thoại');\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsxs(View, {\n    style: styles.login,\n    children: [_jsx(View, {\n      style: styles.header,\n      children: _jsx(Image, {\n        resizeMode: \"center\",\n        style: styles.image,\n        source: login\n      })\n    }), _jsx(View, {\n      style: styles.form,\n      children: _jsx(View, {\n        style: styles.inputEmail,\n        children: _jsx(TextInput, {\n          style: styles.input,\n          keyboardType: \"numeric\",\n          placeholder: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",\n          onChangeText: function onChangeText(value) {\n            setNumber(value);\n            /[^0-9]/.test(value) ? alert('Vui lòng chỉ nhập số!') : \" \";\n          }\n        })\n      })\n    }), _jsx(View, {\n      style: styles.buttonGroup,\n      children: _jsxs(View, {\n        style: styles.buttonAccess,\n        children: [_jsx(Pressable, {\n          style: styles.LogIn,\n          onPress: handleLogin,\n          children: _jsx(Text, {\n            style: {\n              color: 'white'\n            },\n            children: \"\\u0110\\u0103ng nh\\u1EADp\"\n          })\n        }), _jsx(Pressable, {\n          style: styles.logOut,\n          onPress: function onPress() {\n            return navigation.navigate('Register');\n          },\n          children: _jsx(Text, {\n            style: {\n              color: 'blue'\n            },\n            children: \"\\u0110\\u0103ng k\\xFD\"\n          })\n        })]\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  login: {\n    flex: 1,\n    alignItems: 'center',\n    backgroundColor: '#f1f1f1'\n  },\n  header: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingTop: 30\n  },\n  image: {\n    height: 300,\n    width: 300,\n    borderRadius: 300\n  },\n  form: {\n    width: '75%',\n    display: 'flex',\n    alignItems: 'center'\n  },\n  inputEmail: {\n    width: '100%'\n  },\n  input: {\n    width: '100%',\n    borderWidth: 1,\n    padding: 10,\n    borderColor: 'white',\n    backgroundColor: 'white',\n    borderRadius: 5\n  },\n  buttonGroup: {\n    width: '75%',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  buttonAccess: {\n    width: '100%',\n    marginTop: 10,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between'\n  },\n  LogIn: {\n    width: '100%',\n    backgroundColor: 'white',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 15,\n    borderRadius: 7,\n    marginTop: 10,\n    backgroundColor: 'blue'\n  },\n  logOut: {\n    width: '100%',\n    borderWidth: 1,\n    backgroundColor: 'white',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 15,\n    marginTop: 10,\n    borderRadius: 7,\n    borderColor: 'blue'\n  },\n  googleLogin: {\n    width: '100%',\n    padding: 20,\n    marginTop: 10,\n    borderRadius: 7,\n    display: 'flex',\n    backgroundColor: 'red',\n    flexDirection: 'row',\n    justifyContent: 'center'\n  },\n  facebookLogin: {\n    width: '100%',\n    padding: 20,\n    margin: 10,\n    borderRadius: 7,\n    display: 'flex',\n    backgroundColor: 'blue',\n    flexDirection: 'row',\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"sources":["D:/Đồ án web/chat-app/Pages/Login.js"],"names":["React","useState","auth","db","login","collection","getDocs","query","where","Login","navigation","number","setNumber","usersRef","handleLogin","q","querySnapshot","docs","length","alert","user","data","navigate","styles","header","image","form","inputEmail","input","value","test","buttonGroup","buttonAccess","LogIn","color","logOut","StyleSheet","create","flex","alignItems","backgroundColor","display","flexDirection","justifyContent","paddingTop","height","width","borderRadius","borderWidth","padding","borderColor","marginTop","googleLogin","facebookLogin","margin"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { useState } from 'react';\r\nimport { View , Text , Button , StyleSheet , Image , TextInput ,TouchableWithoutFeedback ,Pressable} from 'react-native'\r\nimport { auth , db } from '../Firebase';\r\nimport login from '../Images/login.png'\r\nimport { collection, getDocs , query ,where} from \"firebase/firestore\"; \r\n\r\n\r\nexport default function Login({navigation}) {\r\n    const [number, setNumber] = useState(null);\r\n    const usersRef = collection(db, \"users\");\r\n    \r\n    const handleLogin = async () => {\r\n        if(number)\r\n        {\r\n            const q = query(usersRef, where(\"_id\", \"==\", number));\r\n            const querySnapshot = await getDocs(q);\r\n            if(querySnapshot.docs.length === 0) {\r\n                alert(\"Chưa đăng ký\")\r\n            }else{\r\n                const user = querySnapshot.docs[0].data();\r\n                navigation.navigate('Home',user);\r\n            }\r\n        }else alert('Vui lòng nhập số điện thoại');\r\n    }\r\n  return (\r\n    <View style={styles.login} >\r\n        <View style={styles.header}>\r\n            <Image resizeMode='center' style={styles.image} source={login}  />\r\n        </View>\r\n        <View style={styles.form}>\r\n             <View style={styles.inputEmail}>\r\n                <TextInput style={styles.input} keyboardType='numeric' placeholder='Số điện thoại' onChangeText={(value)=>{setNumber(value); /[^0-9]/.test(value)?alert('Vui lòng chỉ nhập số!'):\" \"} }   />\r\n             </View>\r\n             {/* <View style={styles.inputPass}>\r\n                <Text>Password</Text>\r\n                <TextInput style={styles.input} placeholder='chat-app123'   />\r\n             </View> */}\r\n        </View>\r\n        <View style={styles.buttonGroup}>\r\n             <View style={styles.buttonAccess}>\r\n                    <Pressable  style={styles.LogIn} onPress={handleLogin}>\r\n                            <Text style={{color : 'white'}}>Đăng nhập</Text>\r\n                    </Pressable>\r\n                    <Pressable  style={styles.logOut} onPress={()=>navigation.navigate('Register')}>\r\n                            <Text style={{color :'blue'}} >Đăng ký</Text>\r\n                    </Pressable>\r\n             </View>\r\n             {/* <Pressable style={styles.googleLogin} onPress={()=>handleLoginFacebook()}>\r\n                    <Text style={{color : 'white'}}>Đăng nhập với Google</Text>\r\n             </Pressable>\r\n             <Pressable style={styles.facebookLogin}>\r\n                    <Text style={{color : 'white'}}>Đăng nhập với facebook</Text>\r\n             </Pressable> */}\r\n        </View>\r\n    </View>\r\n  )\r\n}\r\nconst styles = StyleSheet.create({\r\n    login : {\r\n        flex : 1,\r\n        alignItems : 'center',\r\n        backgroundColor : '#f1f1f1'\r\n    },\r\n    header : {\r\n        display : 'flex',\r\n        flexDirection : 'row',\r\n        justifyContent : 'center',\r\n        alignItems : 'center',\r\n        paddingTop : 30\r\n    },\r\n    image : {\r\n        height : 300,\r\n        width : 300,\r\n        borderRadius : 300\r\n    },\r\n    form : {\r\n        width : '75%',\r\n        display : 'flex',\r\n        alignItems : 'center',\r\n    },\r\n    inputEmail : {\r\n        width : '100%',\r\n    },\r\n    input : {\r\n        width : '100%',\r\n        borderWidth : 1,\r\n        padding : 10,\r\n        borderColor : 'white',\r\n        backgroundColor : 'white',\r\n        borderRadius : 5\r\n    },\r\n    buttonGroup : {\r\n        width : '75%',\r\n        display : 'flex',\r\n        flexDirection : 'column',\r\n        alignItems : 'center'\r\n    },\r\n    buttonAccess : {\r\n        width : '100%',\r\n        marginTop : 10,\r\n        display : 'flex',\r\n        flexDirection : 'column',\r\n        justifyContent : 'space-between'\r\n    },\r\n    LogIn : {\r\n        width : '100%',\r\n        backgroundColor : 'white',\r\n        justifyContent : 'center',\r\n        alignItems : 'center',\r\n        padding : 15,\r\n        borderRadius : 7,\r\n        marginTop : 10,\r\n        backgroundColor : 'blue'\r\n    },\r\n    logOut : {\r\n        width : '100%',\r\n        borderWidth : 1,\r\n        backgroundColor : 'white',\r\n        justifyContent : 'center',\r\n        alignItems : 'center',\r\n        padding : 15,\r\n        marginTop : 10,\r\n        borderRadius : 7,\r\n        borderColor : 'blue'\r\n    },  \r\n    googleLogin : {\r\n        width : '100%',\r\n        padding : 20,\r\n        marginTop : 10 ,\r\n        borderRadius : 7 ,\r\n        display : 'flex',\r\n        backgroundColor : 'red',\r\n        flexDirection : 'row',\r\n        justifyContent : 'center'\r\n    },\r\n    facebookLogin : {\r\n        width : '100%',\r\n        padding : 20,\r\n        margin : 10 ,\r\n        borderRadius : 7 ,\r\n        display : 'flex',\r\n        backgroundColor : 'blue',\r\n        flexDirection : 'row',\r\n        justifyContent : 'center'\r\n    }\r\n})"]},"metadata":{},"sourceType":"module"}